# Base Image
FROM fan9704/iptables-openjdk:17-slim

LABEL maintainer="fan9704"

WORKDIR /app
COPY target/*.jar app.jar

# Environment Variables
ENV DOCKER_ENABLED=true
ENV MONGO_DB_HOST=127.0.0.1
ENV MONGO_DB_USERNAME=test
ENV MONGO_DB_PASSWORD=123456
ENV MONGO_DB_DATABASE=network
ENV MONGO_DB_PORT=27017
ENV IPTALBES_LEGACY=true
# Must Given
ENV PVE_HOST=127.0.0.1
ENV PVE_USERNAME=root
ENV PVE_PASSWORD=123456
ENV HOST_IP=127.0.0.1

EXPOSE 9990

CMD ["java", "-jar", "app.jar"]